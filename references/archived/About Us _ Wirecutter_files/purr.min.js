!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,function(){var r=e.Purr,n=e.Purr={};t(n),n.noConflict=function(){return e.Purr=r,n}}())}(this,(function(e){"use strict";var t=Object.freeze({__proto__:null}),r=Math.ceil,n=Math.floor,o=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)},i=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},a=function(e){return function(t,r){var n,a,u=String(i(t)),c=o(r),s=u.length;return c<0||c>=s?e?"":void 0:(n=u.charCodeAt(c))<55296||n>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?e?u.charAt(c):n:e?u.slice(c,c+2):a-56320+(n-55296<<10)+65536}},u={codeAt:a(!1),charAt:a(!0)},c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e,t){return e(t={exports:{}},t.exports),t.exports}function f(e){return e&&e.default||e}var l=function(e){return e&&e.Math==Math&&e},h=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof c&&c)||Function("return this")(),p=function(e){try{return!!e()}catch(e){return!0}},v=!p((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),d=function(e){return"object"==typeof e?null!==e:"function"==typeof e},g=h.document,y=d(g)&&d(g.createElement),m=function(e){return y?g.createElement(e):{}},w=!v&&!p((function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a})),b=function(e){if(!d(e))throw TypeError(String(e)+" is not an object");return e},P=function(e,t){if(!d(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!d(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!d(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!d(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,R={f:v?S:function(e,t,r){if(b(e),t=P(t,!0),b(r),w)try{return S(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},A=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},_=v?function(e,t,r){return R.f(e,t,A(1,r))}:function(e,t,r){return e[t]=r,e},j=h["__core-js_shared__"]||function(e,t){try{_(h,e,t)}catch(r){h[e]=t}return t}("__core-js_shared__",{}),k=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(e){return k.call(e)});var O,L,U,E=j.inspectSource,I=h.WeakMap,T="function"==typeof I&&/native code/.test(E(I)),x={}.hasOwnProperty,C=function(e,t){return x.call(e,t)},M=s((function(e){(e.exports=function(e,t){return j[e]||(j[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),q=0,N=Math.random(),B=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++q+N).toString(36)},F=M("keys"),D=function(e){return F[e]||(F[e]=B(e))},G={},V=h.WeakMap;if(T){var z=new V,H=z.get,Y=z.has,J=z.set;O=function(e,t){return J.call(z,e,t),t},L=function(e){return H.call(z,e)||{}},U=function(e){return Y.call(z,e)}}else{var $=D("state");G[$]=!0,O=function(e,t){return _(e,$,t),t},L=function(e){return C(e,$)?e[$]:{}},U=function(e){return C(e,$)}}var W,K,X,Z={set:O,get:L,has:U,enforce:function(e){return U(e)?L(e):O(e,{})},getterFor:function(e){return function(t){var r;if(!d(t)||(r=L(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},Q={}.propertyIsEnumerable,ee=Object.getOwnPropertyDescriptor,te={f:ee&&!Q.call({1:2},1)?function(e){var t=ee(this,e);return!!t&&t.enumerable}:Q},re={}.toString,ne=function(e){return re.call(e).slice(8,-1)},oe="".split,ie=p((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==ne(e)?oe.call(e,""):Object(e)}:Object,ae=function(e){return ie(i(e))},ue=Object.getOwnPropertyDescriptor,ce={f:v?ue:function(e,t){if(e=ae(e),t=P(t,!0),w)try{return ue(e,t)}catch(e){}if(C(e,t))return A(!te.f.call(e,t),e[t])}},se=/#|\.prototype\./,fe=function(e,t){var r=he[le(e)];return r==ve||r!=pe&&("function"==typeof t?p(t):!!t)},le=fe.normalize=function(e){return String(e).replace(se,".").toLowerCase()},he=fe.data={},pe=fe.NATIVE="N",ve=fe.POLYFILL="P",de=fe,ge={},ye=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},me=function(e,t,r){if(ye(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},we=ce.f,be=function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t},Pe=function(e,t){var r,n,o,i,a,u,c,s,f=e.target,l=e.global,p=e.stat,v=e.proto,d=l?h:p?h[f]:(h[f]||{}).prototype,g=l?ge:ge[f]||(ge[f]={}),y=g.prototype;for(o in t)r=!de(l?o:f+(p?".":"#")+o,e.forced)&&d&&C(d,o),a=g[o],r&&(u=e.noTargetGet?(s=we(d,o))&&s.value:d[o]),i=r&&u?u:t[o],r&&typeof a==typeof i||(c=e.bind&&r?me(i,h):e.wrap&&r?be(i):v&&"function"==typeof i?me(Function.call,i):i,(e.sham||i&&i.sham||a&&a.sham)&&_(c,"sham",!0),g[o]=c,v&&(C(ge,n=f+"Prototype")||_(ge,n,{}),ge[n][o]=i,e.real&&y&&!y[o]&&_(y,o,i)))},Se=function(e){return Object(i(e))},Re=!p((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Ae=D("IE_PROTO"),_e=Object.prototype,je=Re?Object.getPrototypeOf:function(e){return e=Se(e),C(e,Ae)?e[Ae]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?_e:null},ke=!!Object.getOwnPropertySymbols&&!p((function(){return!String(Symbol())})),Oe=ke&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Le=M("wks"),Ue=h.Symbol,Ee=Oe?Ue:Ue&&Ue.withoutSetter||B,Ie=function(e){return C(Le,e)||(ke&&C(Ue,e)?Le[e]=Ue[e]:Le[e]=Ee("Symbol."+e)),Le[e]},Te=(Ie("iterator"),!1);[].keys&&("next"in(X=[].keys())?(K=je(je(X)))!==Object.prototype&&(W=K):Te=!0),null==W&&(W={});var xe,Ce={IteratorPrototype:W,BUGGY_SAFARI_ITERATORS:Te},Me=Math.min,qe=function(e){return e>0?Me(o(e),9007199254740991):0},Ne=Math.max,Be=Math.min,Fe=function(e){return function(t,r,n){var i,a=ae(t),u=qe(a.length),c=function(e,t){var r=o(e);return r<0?Ne(r+t,0):Be(r,t)}(n,u);if(e&&r!=r){for(;u>c;)if((i=a[c++])!=i)return!0}else for(;u>c;c++)if((e||c in a)&&a[c]===r)return e||c||0;return!e&&-1}},De=(Fe(!0),Fe(!1)),Ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ve=Object.keys||function(e){return function(e,t){var r,n=ae(e),o=0,i=[];for(r in n)!C(G,r)&&C(n,r)&&i.push(r);for(;t.length>o;)C(n,r=t[o++])&&(~De(i,r)||i.push(r));return i}(e,Ge)},ze=v?Object.defineProperties:function(e,t){b(e);for(var r,n=Ve(t),o=n.length,i=0;o>i;)R.f(e,r=n[i++],t[r]);return e},He=function(e){return"function"==typeof e?e:void 0},Ye=function(e,t){return arguments.length<2?He(ge[e])||He(h[e]):ge[e]&&ge[e][t]||h[e]&&h[e][t]},Je=Ye("document","documentElement"),$e=D("IE_PROTO"),We=function(){},Ke=function(e){return"<script>"+e+"<\/script>"},Xe=function(){try{xe=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Xe=xe?function(e){e.write(Ke("")),e.close();var t=e.parentWindow.Object;return e=null,t}(xe):((t=m("iframe")).style.display="none",Je.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ke("document.F=Object")),e.close(),e.F);for(var r=Ge.length;r--;)delete Xe.prototype[Ge[r]];return Xe()};G[$e]=!0;var Ze=Object.create||function(e,t){var r;return null!==e?(We.prototype=b(e),r=new We,We.prototype=null,r[$e]=e):r=Xe(),void 0===t?r:ze(r,t)},Qe={};Qe[Ie("toStringTag")]="z";var et="[object z]"===String(Qe),tt=Ie("toStringTag"),rt="Arguments"==ne(function(){return arguments}()),nt=et?ne:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),tt))?r:rt?ne(t):"Object"==(n=ne(t))&&"function"==typeof t.callee?"Arguments":n},ot=et?{}.toString:function(){return"[object "+nt(this)+"]"},it=R.f,at=Ie("toStringTag"),ut=function(e,t,r,n){if(e){var o=r?e:e.prototype;C(o,at)||it(o,at,{configurable:!0,value:t}),n&&!et&&_(o,"toString",ot)}},ct={},st=Ce.IteratorPrototype,ft=function(){return this},lt=function(e,t,r){var n=t+" Iterator";return e.prototype=Ze(st,{next:A(1,r)}),ut(e,n,!1,!0),ct[n]=ft,e},ht=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return b(r),function(e){if(!d(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),pt=function(e,t,r,n){n&&n.enumerable?e[t]=r:_(e,t,r)},vt=Ce.IteratorPrototype,dt=Ce.BUGGY_SAFARI_ITERATORS,gt=Ie("iterator"),yt=function(){return this},mt=function(e,t,r,n,o,i,a){lt(r,t,n);var u,c,s,f=function(e){if(e===o&&d)return d;if(!dt&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},l=t+" Iterator",h=!1,p=e.prototype,v=p[gt]||p["@@iterator"]||o&&p[o],d=!dt&&v||f(o),g="Array"==t&&p.entries||v;if(g&&(u=je(g.call(new e)),vt!==Object.prototype&&u.next&&(ut(u,l,!0,!0),ct[l]=yt)),"values"==o&&v&&"values"!==v.name&&(h=!0,d=function(){return v.call(this)}),a&&p[gt]!==d&&_(p,gt,d),ct[t]=d,o)if(c={values:f("values"),keys:i?d:f("keys"),entries:f("entries")},a)for(s in c)!dt&&!h&&s in p||pt(p,s,c[s]);else Pe({target:t,proto:!0,forced:dt||h},c);return c},wt=u.charAt,bt=Z.set,Pt=Z.getterFor("String Iterator");mt(String,"String",(function(e){bt(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Pt(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=wt(r,n),t.index+=e.length,{value:e,done:!1})}));var St=Z.set,Rt=Z.getterFor("Array Iterator");mt(Array,"Array",(function(e,t){St(this,{type:"Array Iterator",target:ae(e),index:0,kind:t})}),(function(){var e=Rt(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),ct.Arguments=ct.Array;var At=Ie("toStringTag");for(var _t in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var jt=h[_t],kt=jt&&jt.prototype;kt&&nt(kt)!==At&&_(kt,At,_t),ct[_t]=ct.Array}var Ot=h.Promise,Lt=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:pt(e,n,t[n],r);return e},Ut=Ie("species"),Et=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},It=Ie("iterator"),Tt=Array.prototype,xt=function(e){return void 0!==e&&(ct.Array===e||Tt[It]===e)},Ct=Ie("iterator"),Mt=function(e){if(null!=e)return e[Ct]||e["@@iterator"]||ct[nt(e)]},qt=function(e,t,r,n){try{return n?t(b(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&b(o.call(e)),t}},Nt=s((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,r,n,o,i){var a,u,c,s,f,l,h,p=me(r,n,o?2:1);if(i)a=e;else{if("function"!=typeof(u=Mt(e)))throw TypeError("Target is not iterable");if(xt(u)){for(c=0,s=qe(e.length);s>c;c++)if((f=o?p(b(h=e[c])[0],h[1]):p(e[c]))&&f instanceof t)return f;return new t(!1)}a=u.call(e)}for(l=a.next;!(h=l.call(a)).done;)if("object"==typeof(f=qt(a,p,h.value,o))&&f&&f instanceof t)return f;return new t(!1)}).stop=function(e){return new t(!0,e)}})),Bt=Ie("iterator"),Ft=!1;try{var Dt=0,Gt={next:function(){return{done:!!Dt++}},return:function(){Ft=!0}};Gt[Bt]=function(){return this},Array.from(Gt,(function(){throw 2}))}catch(e){}var Vt,zt,Ht,Yt=Ie("species"),Jt=function(e,t){var r,n=b(e).constructor;return void 0===n||null==(r=b(n)[Yt])?t:ye(r)},$t=Ye("navigator","userAgent")||"",Wt=/(iphone|ipod|ipad).*applewebkit/i.test($t),Kt=h.location,Xt=h.setImmediate,Zt=h.clearImmediate,Qt=h.process,er=h.MessageChannel,tr=h.Dispatch,rr=0,nr={},or=function(e){if(nr.hasOwnProperty(e)){var t=nr[e];delete nr[e],t()}},ir=function(e){return function(){or(e)}},ar=function(e){or(e.data)},ur=function(e){h.postMessage(e+"",Kt.protocol+"//"+Kt.host)};Xt&&Zt||(Xt=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return nr[++rr]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Vt(rr),rr},Zt=function(e){delete nr[e]},"process"==ne(Qt)?Vt=function(e){Qt.nextTick(ir(e))}:tr&&tr.now?Vt=function(e){tr.now(ir(e))}:er&&!Wt?(Ht=(zt=new er).port2,zt.port1.onmessage=ar,Vt=me(Ht.postMessage,Ht,1)):!h.addEventListener||"function"!=typeof postMessage||h.importScripts||p(ur)?Vt="onreadystatechange"in m("script")?function(e){Je.appendChild(m("script")).onreadystatechange=function(){Je.removeChild(this),or(e)}}:function(e){setTimeout(ir(e),0)}:(Vt=ur,h.addEventListener("message",ar,!1)));var cr,sr,fr,lr,hr,pr,vr,dr,gr={set:Xt,clear:Zt},yr=ce.f,mr=gr.set,wr=h.MutationObserver||h.WebKitMutationObserver,br=h.process,Pr=h.Promise,Sr="process"==ne(br),Rr=yr(h,"queueMicrotask"),Ar=Rr&&Rr.value;Ar||(cr=function(){var e,t;for(Sr&&(e=br.domain)&&e.exit();sr;){t=sr.fn,sr=sr.next;try{t()}catch(e){throw sr?lr():fr=void 0,e}}fr=void 0,e&&e.enter()},Sr?lr=function(){br.nextTick(cr)}:wr&&!Wt?(hr=!0,pr=document.createTextNode(""),new wr(cr).observe(pr,{characterData:!0}),lr=function(){pr.data=hr=!hr}):Pr&&Pr.resolve?(vr=Pr.resolve(void 0),dr=vr.then,lr=function(){dr.call(vr,cr)}):lr=function(){mr.call(h,cr)});var _r,jr,kr=Ar||function(e){var t={fn:e,next:void 0};fr&&(fr.next=t),sr||(sr=t,lr()),fr=t},Or=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=ye(t),this.reject=ye(r)},Lr={f:function(e){return new Or(e)}},Ur=function(e,t){if(b(e),d(t)&&t.constructor===e)return t;var r=Lr.f(e);return(0,r.resolve)(t),r.promise},Er=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Ir=h.process,Tr=Ir&&Ir.versions,xr=Tr&&Tr.v8;xr?jr=(_r=xr.split("."))[0]+_r[1]:$t&&(!(_r=$t.match(/Edge\/(\d+)/))||_r[1]>=74)&&(_r=$t.match(/Chrome\/(\d+)/))&&(jr=_r[1]);var Cr,Mr,qr,Nr=jr&&+jr,Br=gr.set,Fr=Ie("species"),Dr=Z.get,Gr=Z.set,Vr=Z.getterFor("Promise"),zr=Ot,Hr=h.TypeError,Yr=h.document,Jr=h.process,$r=(Ye("fetch"),Lr.f),Wr=$r,Kr="process"==ne(Jr),Xr=!!(Yr&&Yr.createEvent&&h.dispatchEvent),Zr=de("Promise",(function(){if(E(zr)===String(zr)){if(66===Nr)return!0;if(!Kr&&"function"!=typeof PromiseRejectionEvent)return!0}if(!zr.prototype.finally)return!0;if(Nr>=51&&/native code/.test(zr))return!1;var e=zr.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Fr]=t,!(e.then((function(){}))instanceof t)})),Qr=Zr||!function(){if(!Ft)return!1;var e,t=!1;try{var r={};r[Bt]=function(){return{next:function(){return{done:t=!0}}}},e=r,zr.all(e).catch((function(){}))}catch(e){}return t}(),en=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},tn=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;kr((function(){for(var o=t.value,i=1==t.state,a=0;n.length>a;){var u,c,s,f=n[a++],l=i?f.ok:f.fail,h=f.resolve,p=f.reject,v=f.domain;try{l?(i||(2===t.rejection&&an(e,t),t.rejection=1),!0===l?u=o:(v&&v.enter(),u=l(o),v&&(v.exit(),s=!0)),u===f.promise?p(Hr("Promise-chain cycle")):(c=en(u))?c.call(u,h,p):h(u)):p(o)}catch(e){v&&!s&&v.exit(),p(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&nn(e,t)}))}},rn=function(e,t,r){var n,o;Xr?((n=Yr.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),h.dispatchEvent(n)):n={promise:t,reason:r},(o=h["on"+e])?o(n):"unhandledrejection"===e&&function(e,t){var r=h.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}("Unhandled promise rejection",r)},nn=function(e,t){Br.call(h,(function(){var r,n=t.value;if(on(t)&&(r=Er((function(){Kr?Jr.emit("unhandledRejection",n,e):rn("unhandledrejection",e,n)})),t.rejection=Kr||on(t)?2:1,r.error))throw r.value}))},on=function(e){return 1!==e.rejection&&!e.parent},an=function(e,t){Br.call(h,(function(){Kr?Jr.emit("rejectionHandled",e):rn("rejectionhandled",e,t.value)}))},un=function(e,t,r,n){return function(o){e(t,r,o,n)}},cn=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,tn(e,t,!0))},sn=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw Hr("Promise can't be resolved itself");var o=en(r);o?kr((function(){var n={done:!1};try{o.call(r,un(sn,e,n,t),un(cn,e,n,t))}catch(r){cn(e,n,r,t)}})):(t.value=r,t.state=1,tn(e,t,!1))}catch(r){cn(e,{done:!1},r,t)}}};Zr&&(zr=function(e){Et(this,zr,"Promise"),ye(e),Cr.call(this);var t=Dr(this);try{e(un(sn,this,t),un(cn,this,t))}catch(e){cn(this,t,e)}},(Cr=function(){Gr(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Lt(zr.prototype,{then:function(e,t){var r=Vr(this),n=$r(Jt(this,zr));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=Kr?Jr.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&tn(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),Mr=function(){var e=new Cr,t=Dr(e);this.promise=e,this.resolve=un(sn,e,t),this.reject=un(cn,e,t)},Lr.f=$r=function(e){return e===zr||e===qr?new Mr(e):Wr(e)}),Pe({global:!0,wrap:!0,forced:Zr},{Promise:zr}),ut(zr,"Promise",!1,!0),function(){var e=Ye("Promise"),t=R.f;v&&e&&!e[Ut]&&t(e,Ut,{configurable:!0,get:function(){return this}})}(),qr=Ye("Promise"),Pe({target:"Promise",stat:!0,forced:Zr},{reject:function(e){var t=$r(this);return t.reject.call(void 0,e),t.promise}}),Pe({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return Ur(this===qr?zr:this,e)}}),Pe({target:"Promise",stat:!0,forced:Qr},{all:function(e){var t=this,r=$r(t),n=r.resolve,o=r.reject,i=Er((function(){var r=ye(t.resolve),i=[],a=0,u=1;Nt(e,(function(e){var c=a++,s=!1;i.push(void 0),u++,r.call(t,e).then((function(e){s||(s=!0,i[c]=e,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=$r(t),n=r.reject,o=Er((function(){var o=ye(t.resolve);Nt(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),Pe({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=Lr.f(t),n=r.resolve,o=r.reject,i=Er((function(){var r=ye(t.resolve),o=[],i=0,a=1;Nt(e,(function(e){var u=i++,c=!1;o.push(void 0),a++,r.call(t,e).then((function(e){c||(c=!0,o[u]={status:"fulfilled",value:e},--a||n(o))}),(function(e){c||(c=!0,o[u]={status:"rejected",reason:e},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});var fn=!!Ot&&p((function(){Ot.prototype.finally.call({then:function(){}},(function(){}))}));Pe({target:"Promise",proto:!0,real:!0,forced:fn},{finally:function(e){var t=Jt(this,Ye("Promise")),r="function"==typeof e;return this.then(r?function(r){return Ur(t,e()).then((function(){return r}))}:e,r?function(r){return Ur(t,e()).then((function(){throw r}))}:e)}}),f(t);var ln=ge.Promise,hn=Z.set,pn=Z.getterFor("AggregateError"),vn=function(e,t){var r=this;if(!(r instanceof vn))return new vn(e,t);ht&&(r=ht(new Error(t),je(r)));var n=[];return Nt(e,n.push,n),v?hn(r,{errors:n,type:"AggregateError"}):r.errors=n,void 0!==t&&_(r,"message",String(t)),r};vn.prototype=Ze(Error.prototype,{constructor:A(5,vn),message:A(5,""),name:A(5,"AggregateError")}),v&&R.f(vn.prototype,"errors",{get:function(){return pn(this).errors},configurable:!0}),Pe({global:!0},{AggregateError:vn}),Pe({target:"Promise",stat:!0},{try:function(e){var t=Lr.f(this),r=Er(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}}),Pe({target:"Promise",stat:!0},{any:function(e){var t=this,r=Lr.f(t),n=r.resolve,o=r.reject,i=Er((function(){var r=ye(t.resolve),i=[],a=0,u=1,c=!1;Nt(e,(function(e){var s=a++,f=!1;i.push(void 0),u++,r.call(t,e).then((function(e){f||c||(c=!0,n(e))}),(function(e){f||c||(f=!0,i[s]=e,--u||o(new(Ye("AggregateError"))(i,"No one promise resolved")))}))})),--u||o(new(Ye("AggregateError"))(i,"No one promise resolved"))}));return i.error&&o(i.value),r.promise}});var dn=ln;function gn(e,t){return t=t||{},new dn((function(r,n){var o=new XMLHttpRequest,i=[],a=[],u={},c=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return dn.resolve(o.responseText)},json:function(){return dn.resolve(JSON.parse(o.responseText))},blob:function(){return dn.resolve(new Blob([o.response]))},clone:c,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return u[e.toLowerCase()]},has:function(e){return e.toLowerCase()in u}}}};for(var s in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){i.push(t=t.toLowerCase()),a.push([t,r]),u[t]=u[t]?u[t]+","+r:r})),r(c())},o.onerror=n,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(s,t.headers[s]);o.send(t.body||null)}))}var yn=Ie("iterator"),mn=!p((function(){var e=new _i("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[yn]||"a"!==new _i("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new _i("http://тест").host||"#%D0%B1"!==new _i("http://a#б").hash||"a1c3"!==r||"x"!==new _i("http://x",void 0).host})),wn={f:Object.getOwnPropertySymbols},bn=Object.assign,Pn=Object.defineProperty,Sn=!bn||p((function(){if(v&&1!==bn({b:1},bn(Pn({},"a",{enumerable:!0,get:function(){Pn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=bn({},e)[r]||"abcdefghijklmnopqrst"!=Ve(bn({},t)).join("")}))?function(e){for(var t=Se(e),r=arguments.length,n=1,o=wn.f,i=te.f;r>n;)for(var a,u=ie(arguments[n++]),c=o?Ve(u).concat(o(u)):Ve(u),s=c.length,f=0;s>f;)a=c[f++],v&&!i.call(u,a)||(t[a]=u[a]);return t}:bn,Rn=function(e,t,r){var n=P(t);n in e?R.f(e,n,A(0,r)):e[n]=r},An=function(e){var t,r,n,o,i,a,u=Se(e),c="function"==typeof this?this:Array,s=arguments.length,f=s>1?arguments[1]:void 0,l=void 0!==f,h=Mt(u),p=0;if(l&&(f=me(f,s>2?arguments[2]:void 0,2)),null==h||c==Array&&xt(h))for(r=new c(t=qe(u.length));t>p;p++)a=l?f(u[p],p):u[p],Rn(r,p,a);else for(i=(o=h.call(u)).next,r=new c;!(n=i.call(o)).done;p++)a=l?qt(o,f,[n.value,p],!0):n.value,Rn(r,p,a);return r.length=p,r},_n=/[^\0-\u007E]/,jn=/[.\u3002\uFF0E\uFF61]/g,kn="Overflow: input needs wider integers to process",On=Math.floor,Ln=String.fromCharCode,Un=function(e){return e+22+75*(e<26)},En=function(e,t,r){var n=0;for(e=r?On(e/700):e>>1,e+=On(e/t);e>455;n+=36)e=On(e/35);return On(n+36*e/(e+38))},In=function(e){var t,r,n=[],o=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}(e)).length,i=128,a=0,u=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(Ln(r));var c=n.length,s=c;for(c&&n.push("-");s<o;){var f=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=i&&r<f&&(f=r);var l=s+1;if(f-i>On((2147483647-a)/l))throw RangeError(kn);for(a+=(f-i)*l,i=f,t=0;t<e.length;t++){if((r=e[t])<i&&++a>2147483647)throw RangeError(kn);if(r==i){for(var h=a,p=36;;p+=36){var v=p<=u?1:p>=u+26?26:p-u;if(h<v)break;var d=h-v,g=36-v;n.push(Ln(Un(v+d%g))),h=On(d/g)}n.push(Ln(Un(h))),u=En(a,l,s==c),a=0,++s}}++a,++i}return n.join("")},Tn=function(e){var t=Mt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return b(t.call(e))},xn=Ye("fetch"),Cn=Ye("Headers"),Mn=Ie("iterator"),qn=Z.set,Nn=Z.getterFor("URLSearchParams"),Bn=Z.getterFor("URLSearchParamsIterator"),Fn=/\+/g,Dn=Array(4),Gn=function(e){return Dn[e-1]||(Dn[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},Vn=function(e){try{return decodeURIComponent(e)}catch(t){return e}},zn=function(e){var t=e.replace(Fn," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(Gn(r--),Vn);return t}},Hn=/[!'()~]|%20/g,Yn={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Jn=function(e){return Yn[e]},$n=function(e){return encodeURIComponent(e).replace(Hn,Jn)},Wn=function(e,t){if(t)for(var r,n,o=t.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),e.push({key:zn(n.shift()),value:zn(n.join("="))}))},Kn=function(e){this.entries.length=0,Wn(this.entries,e)},Xn=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Zn=lt((function(e,t){qn(this,{type:"URLSearchParamsIterator",iterator:Tn(Nn(e).entries),kind:t})}),"Iterator",(function(){var e=Bn(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),Qn=function(){Et(this,Qn,"URLSearchParams");var e,t,r,n,o,i,a,u,c,s=arguments.length>0?arguments[0]:void 0,f=this,l=[];if(qn(f,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:Kn}),void 0!==s)if(d(s))if("function"==typeof(e=Mt(s)))for(r=(t=e.call(s)).next;!(n=r.call(t)).done;){if((a=(i=(o=Tn(b(n.value))).next).call(o)).done||(u=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");l.push({key:a.value+"",value:u.value+""})}else for(c in s)C(s,c)&&l.push({key:c,value:s[c]+""});else Wn(l,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},eo=Qn.prototype;Lt(eo,{append:function(e,t){Xn(arguments.length,2);var r=Nn(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){Xn(arguments.length,1);for(var t=Nn(this),r=t.entries,n=e+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){Xn(arguments.length,1);for(var t=Nn(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){Xn(arguments.length,1);for(var t=Nn(this).entries,r=e+"",n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){Xn(arguments.length,1);for(var t=Nn(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){Xn(arguments.length,1);for(var r,n=Nn(this),o=n.entries,i=!1,a=e+"",u=t+"",c=0;c<o.length;c++)(r=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,r.value=u));i||o.push({key:a,value:u}),n.updateURL()},sort:function(){var e,t,r,n=Nn(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(e=i[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){for(var t,r=Nn(this).entries,n=me(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new Zn(this,"keys")},values:function(){return new Zn(this,"values")},entries:function(){return new Zn(this,"entries")}},{enumerable:!0}),pt(eo,Mn,eo.entries),pt(eo,"toString",(function(){for(var e,t=Nn(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push($n(e.key)+"="+$n(e.value));return r.join("&")}),{enumerable:!0}),ut(Qn,"URLSearchParams"),Pe({global:!0,forced:!mn},{URLSearchParams:Qn}),mn||"function"!=typeof xn||"function"!=typeof Cn||Pe({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,o=[e];return arguments.length>1&&(t=arguments[1],d(t)&&(r=t.body,"URLSearchParams"===nt(r)&&((n=t.headers?new Cn(t.headers):new Cn).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=Ze(t,{body:A(0,String(r)),headers:A(0,n)}))),o.push(t)),xn.apply(this,o)}});var to,ro={URLSearchParams:Qn,getState:Nn},no=u.codeAt,oo=h.URL,io=ro.URLSearchParams,ao=ro.getState,uo=Z.set,co=Z.getterFor("URL"),so=Math.floor,fo=Math.pow,lo=/[A-Za-z]/,ho=/[\d+\-.A-Za-z]/,po=/\d/,vo=/^(0x|0X)/,go=/^[0-7]+$/,yo=/^\d+$/,mo=/^[\dA-Fa-f]+$/,wo=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,bo=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Po=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,So=/[\u0009\u000A\u000D]/g,Ro=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=_o(t.slice(1,-1))))return"Invalid host";e.host=r}else if(To(e)){if(t=function(e){var t,r,n=[],o=e.toLowerCase().replace(jn,".").split(".");for(t=0;t<o.length;t++)r=o[t],n.push(_n.test(r)?"xn--"+In(r):r);return n.join(".")}(t),wo.test(t))return"Invalid host";if(null===(r=Ao(t)))return"Invalid host";e.host=r}else{if(bo.test(t))return"Invalid host";for(r="",n=An(t),o=0;o<n.length;o++)r+=Eo(n[o],ko);e.host=r}},Ao=function(e){var t,r,n,o,i,a,u,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=c[n]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=vo.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?yo:8==i?go:mo).test(o))return e;a=parseInt(o,i)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=fo(256,5-t))return null}else if(a>255)return null;for(u=r.pop(),n=0;n<r.length;n++)u+=r[n]*fo(256,3-n);return u},_o=function(e){var t,r,n,o,i,a,u,c=[0,0,0,0,0,0,0,0],s=0,f=null,l=0,h=function(){return e.charAt(l)};if(":"==h()){if(":"!=e.charAt(1))return;l+=2,f=++s}for(;h();){if(8==s)return;if(":"!=h()){for(t=r=0;r<4&&mo.test(h());)t=16*t+parseInt(h(),16),l++,r++;if("."==h()){if(0==r)return;if(l-=r,s>6)return;for(n=0;h();){if(o=null,n>0){if(!("."==h()&&n<4))return;l++}if(!po.test(h()))return;for(;po.test(h());){if(i=parseInt(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}c[s]=256*c[s]+o,2!=++n&&4!=n||s++}if(4!=n)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;c[s++]=t}else{if(null!==f)return;l++,f=++s}}if(null!==f)for(a=s-f,s=7;0!=s&&a>0;)u=c[s],c[s--]=c[f+a-1],c[f+--a]=u;else if(8!=s)return;return c},jo=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=so(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},ko={},Oo=Sn({},ko,{" ":1,'"':1,"<":1,">":1,"`":1}),Lo=Sn({},Oo,{"#":1,"?":1,"{":1,"}":1}),Uo=Sn({},Lo,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Eo=function(e,t){var r=no(e,0);return r>32&&r<127&&!C(t,e)?e:encodeURIComponent(e)},Io={ftp:21,file:null,http:80,https:443,ws:80,wss:443},To=function(e){return C(Io,e.scheme)},xo=function(e){return""!=e.username||""!=e.password},Co=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Mo=function(e,t){var r;return 2==e.length&&lo.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},qo=function(e){var t;return e.length>1&&Mo(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},No=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&Mo(t[0],!0)||t.pop()},Bo=function(e){return"."===e||"%2e"===e.toLowerCase()},Fo={},Do={},Go={},Vo={},zo={},Ho={},Yo={},Jo={},$o={},Wo={},Ko={},Xo={},Zo={},Qo={},ei={},ti={},ri={},ni={},oi={},ii={},ai={},ui=function(e,t,r,n){var o,i,a,u,c,s=r||Fo,f=0,l="",h=!1,p=!1,v=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Po,"")),t=t.replace(So,""),o=An(t);f<=o.length;){switch(i=o[f],s){case Fo:if(!i||!lo.test(i)){if(r)return"Invalid scheme";s=Go;continue}l+=i.toLowerCase(),s=Do;break;case Do:if(i&&(ho.test(i)||"+"==i||"-"==i||"."==i))l+=i.toLowerCase();else{if(":"!=i){if(r)return"Invalid scheme";l="",s=Go,f=0;continue}if(r&&(To(e)!=C(Io,l)||"file"==l&&(xo(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=l,r)return void(To(e)&&Io[e.scheme]==e.port&&(e.port=null));l="","file"==e.scheme?s=Qo:To(e)&&n&&n.scheme==e.scheme?s=Vo:To(e)?s=Jo:"/"==o[f+1]?(s=zo,f++):(e.cannotBeABaseURL=!0,e.path.push(""),s=oi)}break;case Go:if(!n||n.cannotBeABaseURL&&"#"!=i)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==i){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,s=ai;break}s="file"==n.scheme?Qo:Ho;continue;case Vo:if("/"!=i||"/"!=o[f+1]){s=Ho;continue}s=$o,f++;break;case zo:if("/"==i){s=Wo;break}s=ni;continue;case Ho:if(e.scheme=n.scheme,i==to)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==i||"\\"==i&&To(e))s=Yo;else if("?"==i)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",s=ii;else{if("#"!=i){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),s=ni;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",s=ai}break;case Yo:if(!To(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,s=ni;continue}s=Wo}else s=$o;break;case Jo:if(s=$o,"/"!=i||"/"!=l.charAt(f+1))continue;f++;break;case $o:if("/"!=i&&"\\"!=i){s=Wo;continue}break;case Wo:if("@"==i){h&&(l="%40"+l),h=!0,a=An(l);for(var d=0;d<a.length;d++){var g=a[d];if(":"!=g||v){var y=Eo(g,Uo);v?e.password+=y:e.username+=y}else v=!0}l=""}else if(i==to||"/"==i||"?"==i||"#"==i||"\\"==i&&To(e)){if(h&&""==l)return"Invalid authority";f-=An(l).length+1,l="",s=Ko}else l+=i;break;case Ko:case Xo:if(r&&"file"==e.scheme){s=ti;continue}if(":"!=i||p){if(i==to||"/"==i||"?"==i||"#"==i||"\\"==i&&To(e)){if(To(e)&&""==l)return"Invalid host";if(r&&""==l&&(xo(e)||null!==e.port))return;if(u=Ro(e,l))return u;if(l="",s=ri,r)return;continue}"["==i?p=!0:"]"==i&&(p=!1),l+=i}else{if(""==l)return"Invalid host";if(u=Ro(e,l))return u;if(l="",s=Zo,r==Xo)return}break;case Zo:if(!po.test(i)){if(i==to||"/"==i||"?"==i||"#"==i||"\\"==i&&To(e)||r){if(""!=l){var m=parseInt(l,10);if(m>65535)return"Invalid port";e.port=To(e)&&m===Io[e.scheme]?null:m,l=""}if(r)return;s=ri;continue}return"Invalid port"}l+=i;break;case Qo:if(e.scheme="file","/"==i||"\\"==i)s=ei;else{if(!n||"file"!=n.scheme){s=ni;continue}if(i==to)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==i)e.host=n.host,e.path=n.path.slice(),e.query="",s=ii;else{if("#"!=i){qo(o.slice(f).join(""))||(e.host=n.host,e.path=n.path.slice(),No(e)),s=ni;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",s=ai}}break;case ei:if("/"==i||"\\"==i){s=ti;break}n&&"file"==n.scheme&&!qo(o.slice(f).join(""))&&(Mo(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),s=ni;continue;case ti:if(i==to||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&Mo(l))s=ni;else if(""==l){if(e.host="",r)return;s=ri}else{if(u=Ro(e,l))return u;if("localhost"==e.host&&(e.host=""),r)return;l="",s=ri}continue}l+=i;break;case ri:if(To(e)){if(s=ni,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=to&&(s=ni,"/"!=i))continue}else e.fragment="",s=ai;else e.query="",s=ii;break;case ni:if(i==to||"/"==i||"\\"==i&&To(e)||!r&&("?"==i||"#"==i)){if(".."===(c=(c=l).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(No(e),"/"==i||"\\"==i&&To(e)||e.path.push("")):Bo(l)?"/"==i||"\\"==i&&To(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Mo(l)&&(e.host&&(e.host=""),l=l.charAt(0)+":"),e.path.push(l)),l="","file"==e.scheme&&(i==to||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",s=ii):"#"==i&&(e.fragment="",s=ai)}else l+=Eo(i,Lo);break;case oi:"?"==i?(e.query="",s=ii):"#"==i?(e.fragment="",s=ai):i!=to&&(e.path[0]+=Eo(i,ko));break;case ii:r||"#"!=i?i!=to&&("'"==i&&To(e)?e.query+="%27":e.query+="#"==i?"%23":Eo(i,ko)):(e.fragment="",s=ai);break;case ai:i!=to&&(e.fragment+=Eo(i,Oo))}f++}},ci=function(e){var t,r,n=Et(this,ci,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),a=uo(n,{type:"URL"});if(void 0!==o)if(o instanceof ci)t=co(o);else if(r=ui(t={},String(o)))throw TypeError(r);if(r=ui(a,i,null,t))throw TypeError(r);var u=a.searchParams=new io,c=ao(u);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(u)||null},v||(n.href=fi.call(n),n.origin=li.call(n),n.protocol=hi.call(n),n.username=pi.call(n),n.password=vi.call(n),n.host=di.call(n),n.hostname=gi.call(n),n.port=yi.call(n),n.pathname=mi.call(n),n.search=wi.call(n),n.searchParams=bi.call(n),n.hash=Pi.call(n))},si=ci.prototype,fi=function(){var e=co(this),t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,a=e.path,u=e.query,c=e.fragment,s=t+":";return null!==o?(s+="//",xo(e)&&(s+=r+(n?":"+n:"")+"@"),s+=jo(o),null!==i&&(s+=":"+i)):"file"==t&&(s+="//"),s+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(s+="?"+u),null!==c&&(s+="#"+c),s},li=function(){var e=co(this),t=e.scheme,r=e.port;if("blob"==t)try{return new _i(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&To(e)?t+"://"+jo(e.host)+(null!==r?":"+r:""):"null"},hi=function(){return co(this).scheme+":"},pi=function(){return co(this).username},vi=function(){return co(this).password},di=function(){var e=co(this),t=e.host,r=e.port;return null===t?"":null===r?jo(t):jo(t)+":"+r},gi=function(){var e=co(this).host;return null===e?"":jo(e)},yi=function(){var e=co(this).port;return null===e?"":String(e)},mi=function(){var e=co(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},wi=function(){var e=co(this).query;return e?"?"+e:""},bi=function(){return co(this).searchParams},Pi=function(){var e=co(this).fragment;return e?"#"+e:""},Si=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(v&&ze(si,{href:Si(fi,(function(e){var t=co(this),r=String(e),n=ui(t,r);if(n)throw TypeError(n);ao(t.searchParams).updateSearchParams(t.query)})),origin:Si(li),protocol:Si(hi,(function(e){var t=co(this);ui(t,String(e)+":",Fo)})),username:Si(pi,(function(e){var t=co(this),r=An(String(e));if(!Co(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=Eo(r[n],Uo)}})),password:Si(vi,(function(e){var t=co(this),r=An(String(e));if(!Co(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=Eo(r[n],Uo)}})),host:Si(di,(function(e){var t=co(this);t.cannotBeABaseURL||ui(t,String(e),Ko)})),hostname:Si(gi,(function(e){var t=co(this);t.cannotBeABaseURL||ui(t,String(e),Xo)})),port:Si(yi,(function(e){var t=co(this);Co(t)||(""==(e=String(e))?t.port=null:ui(t,e,Zo))})),pathname:Si(mi,(function(e){var t=co(this);t.cannotBeABaseURL||(t.path=[],ui(t,e+"",ri))})),search:Si(wi,(function(e){var t=co(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",ui(t,e,ii)),ao(t.searchParams).updateSearchParams(t.query)})),searchParams:Si(bi),hash:Si(Pi,(function(e){var t=co(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",ui(t,e,ai)):t.fragment=null}))}),pt(si,"toJSON",(function(){return fi.call(this)}),{enumerable:!0}),pt(si,"toString",(function(){return fi.call(this)}),{enumerable:!0}),oo){var Ri=oo.createObjectURL,Ai=oo.revokeObjectURL;Ri&&pt(ci,"createObjectURL",(function(){return Ri.apply(oo,arguments)})),Ai&&pt(ci,"revokeObjectURL",(function(){return Ai.apply(oo,arguments)}))}ut(ci,"URL"),Pe({global:!0,forced:!mn,sham:!v},{URL:ci}),f(Object.freeze({__proto__:null}));var _i=ge.URL,ji=function(){return(ji=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ki(e,t,r,n){return new(r||(r=dn))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function u(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}c((n=n.apply(e,t||[])).next())}))}function Oi(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Li=[{name:"PURR_AcceptableTrackers",valueMapping:{controllers:"c",processors:"p"}},{name:"PURR_AdConfiguration",valueMapping:{full:"f",npa:"n","adluce-socrates":"s"}},{name:"PURR_DataSaleOptOutUI",valueMapping:{hide:"h",show:"s"}},{name:"PURR_DataProcessingConsentUI",valueMapping:{hide:"h",show:"s"}},{name:"PURR_AcceptableTrackers_v2",valueMapping:{controllers:"c",processors:"p",essentials:"e"}},{name:"PURR_AdConfiguration_v2",valueMapping:{full:"f",rdp:"r",npa:"n",adluce:"a","adluce-socrates":"s"}},{name:"PURR_DataProcessingPreferenceUI",valueMapping:{hide:"h","allow-opt-out":"o","allow-opt-in":"i","allow-opt-in-or-out":"a"}}],Ui={PRIVACY_API_ROOT_URI_DEV:"https://purr.dev.nytimes.com/v1/",PRIVACY_API_ROOT_URI_PRD:"https://purr.nytimes.com/v1/",PURR_COOKIE_NAME:"nyt-purr",PURR_DIRECTIVE_COOKIE_VALUE_MAPPINGS:Li},Ei={PURR_DataSaleOptOutUI:"hide",PURR_DataProcessingConsentUI:"hide",PURR_DataProcessingPreferenceUI:"hide",PURR_AcceptableTrackers_v2:"controllers",PURR_AcceptableTrackers:"controllers",PURR_AdConfiguration_v2:"full",PURR_AdConfiguration:"full"};e.constants=Ui,e.fetchPurrDirectives=function(e){var t=e.useNytRegiCookie,r=void 0===t||t,n=e.ccpaPrefAgent,o=void 0===n?null:n,i=e.gdprPrefAgent,a=void 0===i?null:i,u=e.env,c=void 0===u?"prd":u,s=e.autoManageAgentPrefs,f=void 0!==s&&s;return ki(this,void 0,void 0,(function(){var e,t,n,i,u;return Oi(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),f)if(/(?:^|\.)nytimes\.com$/.test(window.location.hostname))console.warn("fetchPurrDirectives(): autoManageAgentPrefs has no effect for sites hosted under *.nytimes.com");else{if(o||a)throw new Error("received autoManageAgentPrefs, but also agent pref");e=JSON.parse(localStorage.getItem("purr-pref-agent")||"{}"),o=e.ccpa_pref_agent||"none",a=e.gdpr_pref_agent||"none"}return[4,gn(function(e,t,r,n){var o=new _i("directives","prd"===e?"https://purr.nytimes.com/v1/":"https://purr.dev.nytimes.com/v1/");return t&&o.searchParams.set("ccpa_pref_agent",t),r&&o.searchParams.set("gdpr_pref_agent",r),n||o.searchParams.set("exclude_cookies","NYT-S"),o.toString()}(c,o,a,r),{mode:"cors",credentials:"include"})];case 1:if(!(t=s.sent()).ok)throw new Error("res not ok");return[4,t.json()];case 2:return n=s.sent(),i={},Object.keys(n).forEach((function(e){var t=n[e].value;i[e]=t})),[2,i];case 3:return u=s.sent(),console.warn("can’t get directives from Privacy API",u),[2,ji({},Ei)];case 4:return[2]}}))}))},e.postUserPrivacyPref=function(e,t,r){var n=void 0===r?{}:r,o=n.useNytRegiCookie,i=void 0===o||o,a=n.env,u=void 0===a?"prd":a,c=n.autoManageAgentPrefs,s=void 0!==c&&c,f=n.ccpaPrefAgent,l=void 0===f?null:f,h=n.gdprPrefAgent,p=void 0===h?null:h;return ki(this,void 0,void 0,(function(){var r,n,o,a,c;return Oi(this,(function(f){switch(f.label){case 0:if(r=function(e,t,r,n){var o=new _i("preferences","prd"===t?"https://purr.nytimes.com/v1/":"https://purr.dev.nytimes.com/v1/");return r&&o.searchParams.set("ccpa_pref_agent",r),n&&o.searchParams.set("gdpr_pref_agent",n),e||o.searchParams.set("exclude_cookies","NYT-S"),o.toString()}(i,u,l,p),!e||0===Object.keys(e).length)throw new Error("`preference` argument must be provided");return n=ji(ji({},e),{metadata:t&&Object.keys(t).length>0?t:void 0}),[4,gn(r,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n),credentials:"include",mode:"cors"})];case 1:if(!(o=f.sent()).ok)throw new Error("Response error: "+o.statusText);return[4,o.json()];case 2:return a=f.sent(),s&&("ccpa_pref_agent"in a||"gdpr_pref_agent"in a)&&(/(?:^|\.)nytimes\.com$/.test(window.location.hostname)?console.warn("postUserPrivacyPref(): autoManageAgentPrefs has no effect for sites hosted under *.nytimes.com"):(c=JSON.parse(localStorage.getItem("purr-pref-agent")||"{}"),a.ccpa_pref_agent?c.ccpa_pref_agent=a.ccpa_pref_agent:a.gdpr_pref_agent&&(c.gdpr_pref_agent=a.gdpr_pref_agent),localStorage.setItem("purr-pref-agent",JSON.stringify(c)))),[2,a]}}))}))},e.refreshPurrCache=function(e){return ki(this,void 0,void 0,(function(){var t;return Oi(this,(function(r){switch(r.label){case 0:return[4,gn(function(e){var t=void 0===e?{}:e,r=t.useNytRegiCookie,n=void 0===r||r,o=t.env,i=new _i("purr-cache","prd"===(void 0===o?"prd":o)?"https://purr.nytimes.com/v1/":"https://purr.dev.nytimes.com/v1/");return n||i.searchParams.set("exclude_cookies","NYT-S"),i}(e),{mode:"cors",credentials:"include"})];case 1:if(!(t=r.sent()).ok)throw new Error("Response error: "+t.statusText);return[2]}}))}))},e.setNytPurrCookie=function(e,t){void 0===t&&(t=".nytimes.com");var r=Li.map((function(t){var r=e[t.name];return r&&r.value&&(r=r.value),r&&t.valueMapping[r]||"?"})).join("");return document.cookie="nyt-purr="+r+"; domain="+t+"; path=/; max-age=31536000",r},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=purr.min.js.map
